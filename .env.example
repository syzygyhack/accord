# virc server configuration
# Copy to .env and edit: cp .env.example .env

# ==============================================================================
# REQUIRED — you must set these before running
# ==============================================================================

# Secret for signing JWT tokens. Generate with: openssl rand -base64 32
JWT_SECRET=change-me-to-a-random-string

# LiveKit API credentials. Must match config/livekit/config.yaml "keys" section.
LIVEKIT_API_KEY=devkey
LIVEKIT_API_SECRET=devsecret

# ==============================================================================
# SERVER IDENTITY
# ==============================================================================

# Display name shown to clients
# SERVER_NAME=My virc Server

# MySQL root password — must also match config/ergo/ircd.yaml datastore.mysql.password
MYSQL_ROOT_PASSWORD=changeme

# ==============================================================================
# NETWORKING
# ==============================================================================

# LiveKit WebSocket URL returned to clients (set to your LAN/public IP for remote access)
# LIVEKIT_CLIENT_URL=ws://192.168.1.100:7880

# Restrict CORS to a specific origin (leave empty to allow all)
# ALLOWED_ORIGIN=https://chat.example.com

# ==============================================================================
# FILE UPLOADS
# ==============================================================================

# Max upload size in bytes (default: 25 MB)
# MAX_FILE_SIZE=26214400

# ==============================================================================
# TUNING (defaults are sensible — only change if needed)
# ==============================================================================

# JWT lifetime in seconds (default: 3600 = 1 hour)
# JWT_EXPIRY=3600

# Ergo IRC server API (internal Docker address)
# ERGO_API=http://ergo:8089

# Bearer token for Ergo HTTP API (must match config/ergo/ircd.yaml bearer-tokens)
# ERGO_API_TOKEN=sTcmero5do9UZFqJ8HYSpgnXUckvTLtnbY1uRYeU1Ak

# Rate limits (requests per window). Defaults are reasonable for most deployments.
# RATE_LIMIT_AUTH_MAX=10
# RATE_LIMIT_AUTH_WINDOW=900000
# RATE_LIMIT_PREVIEW_MAX=30
# RATE_LIMIT_UPLOAD_MAX=20
# RATE_LIMIT_INVITE_MAX=10
# RATE_LIMIT_WINDOW=60000
